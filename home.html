<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/feeds/home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
    <script src="/static/js/feeds/home.js"></script>
    <title>MaStoryGee</title>
</head>

<body style="background-color: rgb(245,245,245);">
    <header class="main-header">
        <nav class="nav-left">
            <form class="d-flex">
                <a class="header-logo" href="home.html">
                    <img src="/static/images/logo.png" alt="logo">
                </a>
                <div class="search">
                    <input class="form-control me-sm-2" type="text" placeholder="Search" id="feed-search">
                </div>
                <div class="search">
                    <button class="btn btn-secondary my-2 my-sm-0" type="button"
                        onclick="searchFilter()">Search</button>
                </div>
            </form>
        </nav>
        <div class="header-btn">
            <button onclick="location.href='profile.html'">내 프로필</button>
            <button onclick="location.href='channel.html'">내 채널</button>
            <button onclick="handleLogout()">로그아웃</button>
        </div>
    </header>

    <div>
        <div id="category-container">
            <div>
                <ul id="tag_list">
                    <li class="category-item">
                        <a type="button" class="nav-link" href="home.html"> 💾 MaStoryGees </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="content-container">
        <div>
            <div class="col-md-11">
                <div class="main-box">
                    <main>
                        <h4 style="float: left; margin-top:12px; margin-left: 35px;">최신 게시글</h4> 
                        <button onclick="location.href='feed_create.html'" style="float: right; margin: 10px 35px 10px 0px;">
                            새 게시글 작성하기
                            <a herf="feed_create.html">
                        </button>
                        <!-- 최신 게시글 -->
                        <div class="home-container">
                            <div class="row">
                                <div id="feed_card"></div>
                            </div>
                        </div>
                        <h4 style="float: left; margin-top:15px; margin-left: 35px;">인기 게시글</h4> 
                        <!-- 인기 게시글 -->
                        <div class="home-container">
                            <div class="row">
                                <div id="best_feed_card"></div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </div>
    <script src="search.js"></script>
    <script>
    window.addEventListener('DOMContentLoaded', (event) => {
      const urlParams = new URLSearchParams(window.location.search);
      const searchKeyword = urlParams.get('search');
      if (searchKeyword) {
        document.getElementById('feed-search').value = searchKeyword;
        searchFilter(); // search.js의 searchFilter() 함수 호출하여 검색 결과 표시
      }
    });
    </script>

</body>

<footer>

</footer>